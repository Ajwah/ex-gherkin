{"gherkinDocument":{"uri":"/Users/kevinjohnson/projects/ex_gherkin/test/support/testdata/full_features/profiles.feature","feature":{"location":{"line":1,"column":1},"language":"en","keyword":"Feature","name":"Profiles","description":"  In order to save time and prevent carpal tunnel syndrome\n  Cucumber users can save and reuse commonly used cucumber flags in a 'cucumber.yml' file.\n  These named arguments are called profiles and the yml file should be in the root of your project.\n  Any cucumber argument is valid in a profile.  To see all the available flags type 'cucumber --help'\n  For more information about profiles please see the wiki:\n  http://wiki.github.com/cucumber/cucumber/cucumber.yml","children":[{"background":{"location":{"line":10,"column":3},"keyword":"Background","name":"Basic App","steps":[{"location":{"line":11,"column":5},"keyword":"Given ","text":"a file named \"features/sample.feature\" with:","docString":{"location":{"line":12,"column":7},"content":"Feature: Sample\n  Scenario: this is a test\n    Given this step raises an error","delimiter":"\"\"\""},"id":"0"},{"location":{"line":17,"column":5},"keyword":"And ","text":"an empty file named \"features/support/env.rb\"","id":"1"},{"location":{"line":18,"column":5},"keyword":"And ","text":"an empty file named \"features/support/super_env.rb\"","id":"2"},{"location":{"line":19,"column":5},"keyword":"And ","text":"the following profiles are defined:","docString":{"location":{"line":20,"column":7},"content":"default: features/sample.feature --require features/support/env.rb -v\nsuper: features/sample.feature --require features/support/super_env.rb -v","delimiter":"\"\"\""},"id":"3"}]}},{"scenario":{"location":{"line":25,"column":3},"keyword":"Scenario","name":"Explicitly defining a profile to run","steps":[{"location":{"line":26,"column":5},"keyword":"When ","text":"I run `cucumber features/sample.feature --profile super`","id":"4"},{"location":{"line":27,"column":5},"keyword":"Then ","text":"the output should contain:","docString":{"location":{"line":28,"column":7},"content":"Using the super profile...","delimiter":"\"\"\""},"id":"5"},{"location":{"line":31,"column":5},"keyword":"And ","text":"exactly these files should be loaded: features/support/super_env.rb","id":"6"}],"id":"7"}},{"scenario":{"location":{"line":33,"column":3},"keyword":"Scenario","name":"Explicitly defining a profile defined in an ERB formatted file","steps":[{"location":{"line":34,"column":5},"keyword":"Given ","text":"the following profiles are defined:","docString":{"location":{"line":35,"column":7},"content":"<% requires = \"--require features/support/super_env.rb\" %>\nsuper: <%= \"features/sample.feature #{requires} -v\" %>","delimiter":"\"\"\""},"id":"8"},{"location":{"line":39,"column":5},"keyword":"When ","text":"I run `cucumber features/sample.feature --profile super`","id":"9"},{"location":{"line":40,"column":5},"keyword":"Then ","text":"the output should contain:","docString":{"location":{"line":41,"column":7},"content":"Using the super profile...","delimiter":"\"\"\""},"id":"10"},{"location":{"line":44,"column":5},"keyword":"And ","text":"exactly these files should be loaded: features/support/super_env.rb","id":"11"}],"id":"12"}},{"scenario":{"location":{"line":46,"column":3},"keyword":"Scenario","name":"Defining multiple profiles to run","steps":[{"location":{"line":47,"column":5},"keyword":"When ","text":"I run `cucumber features/sample.feature --profile default --profile super`","id":"13"},{"location":{"line":48,"column":5},"keyword":"Then ","text":"the output should contain:","docString":{"location":{"line":49,"column":7},"content":"Using the default and super profiles...","delimiter":"\"\"\""},"id":"14"},{"location":{"line":52,"column":5},"keyword":"And ","text":"exactly these files should be loaded: features/support/env.rb, features/support/super_env.rb","id":"15"}],"id":"16"}},{"scenario":{"location":{"line":54,"column":3},"keyword":"Scenario","name":"Arguments passed in but no profile specified","steps":[{"location":{"line":55,"column":5},"keyword":"When ","text":"I run `cucumber -v`","id":"17"},{"location":{"line":56,"column":5},"keyword":"Then ","text":"the default profile should be used","id":"18"},{"location":{"line":57,"column":5},"keyword":"And ","text":"exactly these files should be loaded: features/support/env.rb","id":"19"}],"id":"20"}},{"scenario":{"location":{"line":59,"column":3},"keyword":"Scenario","name":"Trying to use a missing profile","steps":[{"location":{"line":60,"column":5},"keyword":"When ","text":"I run `cucumber -p foo`","id":"21"},{"location":{"line":61,"column":5},"keyword":"Then ","text":"the stderr should contain:","docString":{"location":{"line":62,"column":7},"content":"Could not find profile: 'foo'\n\nDefined profiles in cucumber.yml:\n  * default\n  * super\n","delimiter":"\"\"\""},"id":"22"}],"id":"23"}},{"scenario":{"location":{"line":71,"column":3},"keyword":"Scenario Outline","name":"Disabling the default profile","steps":[{"location":{"line":72,"column":5},"keyword":"When ","text":"I run `cucumber -v features/ <flag>`","id":"24"},{"location":{"line":73,"column":5},"keyword":"Then ","text":"the output should contain:","docString":{"location":{"line":74,"column":7},"content":"Disabling profiles...","delimiter":"\"\"\""},"id":"25"},{"location":{"line":77,"column":5},"keyword":"And ","text":"exactly these files should be loaded: features/support/env.rb, features/support/super_env.rb","id":"26"}],"examples":[{"location":{"line":79,"column":5},"keyword":"Examples","tableHeader":{"location":{"line":80,"column":7},"cells":[{"location":{"line":80,"column":9},"value":"flag"}],"id":"27"},"tableBody":[{"location":{"line":81,"column":7},"cells":[{"location":{"line":81,"column":9},"value":"-P"}],"id":"28"},{"location":{"line":82,"column":7},"cells":[{"location":{"line":82,"column":9},"value":"--no-profile"}],"id":"29"}]}],"id":"30"}},{"scenario":{"location":{"line":84,"column":3},"keyword":"Scenario","name":"Overriding the profile's features to run","steps":[{"location":{"line":85,"column":5},"keyword":"Given ","text":"a file named \"features/another.feature\" with:","docString":{"location":{"line":86,"column":7},"content":"Feature: Just this one should be run","delimiter":"\"\"\""},"id":"31"},{"location":{"line":89,"column":5},"keyword":"When ","text":"I run `cucumber -p default features/another.feature`","id":"32"},{"location":{"line":90,"column":5},"keyword":"Then ","text":"exactly these features should be run: features/another.feature","id":"33"}],"id":"34"}},{"scenario":{"location":{"line":92,"column":3},"keyword":"Scenario","name":"Overriding the profile's formatter","description":"    You will most likely want to define a formatter in your default formatter.\n    However, you often want to run your features with a different formatter\n    yet still use the other the other arguments in the profile. Cucumber will\n    allow you to do this by giving precedence to the formatter specified on the\n    command line and override the one in the profile.","steps":[{"location":{"line":99,"column":5},"keyword":"Given ","text":"the following profiles are defined:","docString":{"location":{"line":100,"column":7},"content":"default: features/sample.feature --require features/support/env.rb -v --format profile","delimiter":"\"\"\""},"id":"35"},{"location":{"line":103,"column":5},"keyword":"When ","text":"I run `cucumber features --format pretty`","id":"36"},{"location":{"line":104,"column":5},"keyword":"Then ","text":"the output should contain:","docString":{"location":{"line":105,"column":7},"content":"Feature: Sample","delimiter":"\"\"\""},"id":"37"}],"id":"38"}},{"scenario":{"location":{"line":109,"column":3},"keyword":"Scenario Outline","name":"Showing profiles when listing failing scenarios","steps":[{"location":{"line":110,"column":5},"keyword":"Given ","text":"the standard step definitions","id":"39"},{"location":{"line":111,"column":5},"keyword":"When ","text":"I run `cucumber -q -p super -p default -f <format> features/sample.feature --require features/step_definitions/steps.rb`","id":"40"},{"location":{"line":112,"column":5},"keyword":"Then ","text":"it should fail with:","docString":{"location":{"line":113,"column":8},"content":"cucumber -p super features/sample.feature:2","delimiter":"\"\"\""},"id":"41"}],"examples":[{"location":{"line":117,"column":5},"keyword":"Examples","tableHeader":{"location":{"line":118,"column":7},"cells":[{"location":{"line":118,"column":9},"value":"format"}],"id":"42"},"tableBody":[{"location":{"line":119,"column":7},"cells":[{"location":{"line":119,"column":9},"value":"pretty"}],"id":"43"},{"location":{"line":120,"column":7},"cells":[{"location":{"line":120,"column":9},"value":"progress"}],"id":"44"}]}],"id":"45"}}]}}}
