{"gherkinDocument":{"feature":{"tags":[{"location":{"line":1,"column":3},"name":"@spawn","id":"13"}],"location":{"line":2,"column":3},"language":"en","keyword":"Feature","name":"Hooks execute in defined order","children":[{"background":{"id":"4","location":{"line":4,"column":3},"keyword":"Background","steps":[{"location":{"line":5,"column":5},"keyword":"Given ","text":"a file named \"features/step_definitions/steps.rb\" with:","docString":{"location":{"line":6,"column":7},"content":"Given /^background step$/ do; $EventOrder.push(:background_step) end\nGiven /^scenario step$/ do; $EventOrder.push(:scenario_step) end","delimiter":"\"\"\""},"id":"0"},{"location":{"line":10,"column":5},"keyword":"And ","text":"a file named \"features/support/hooks.rb\" with:","docString":{"location":{"line":11,"column":7},"content":"$EventOrder = []\nAround('@around') do |scenario,block|\n  $EventOrder.push :around_begin\n  block.call\n  $EventOrder.push :around_end\nend\nBefore('@before') do\n  $EventOrder.push :before\nend\nAfter('@after') do |scenario|\n  $EventOrder.push :after\nend\nat_exit {\n  puts \"Event order: #{$EventOrder.join(' ')}\"\n}","delimiter":"\"\"\""},"id":"1"},{"location":{"line":28,"column":5},"keyword":"And ","text":"a file named \"features/around_hook_covers_background.feature\" with:","docString":{"location":{"line":29,"column":7},"content":"@around\nFeature: Around hooks cover background steps\n  Background:\n    Given background step\n  Scenario:\n    Given scenario step","delimiter":"\"\"\""},"id":"2"},{"location":{"line":37,"column":5},"keyword":"And ","text":"a file named \"features/all_hook_order.feature\" with:","docString":{"location":{"line":38,"column":7},"content":"@around\n@before\n@after\nFeature: All hooks execute in expected order\n  Background:\n    Given background step\n  Scenario:\n    Given scenario step","delimiter":"\"\"\""},"id":"3"}]}},{"scenario":{"id":"8","tags":[{"location":{"line":49,"column":3},"name":"@todo-windows","id":"7"}],"location":{"line":50,"column":3},"keyword":"Scenario","name":"Around hooks cover background steps","steps":[{"location":{"line":51,"column":5},"keyword":"When ","text":"I run `cucumber -o /dev/null features/around_hook_covers_background.feature`","id":"5"},{"location":{"line":52,"column":5},"keyword":"Then ","text":"the output should contain:","docString":{"location":{"line":53,"column":7},"content":"Event order: around_begin background_step scenario_step around_end","delimiter":"\"\"\""},"id":"6"}]}},{"scenario":{"id":"12","tags":[{"location":{"line":57,"column":3},"name":"@todo-windows","id":"11"}],"location":{"line":58,"column":3},"keyword":"Scenario","name":"All hooks execute in expected order","steps":[{"location":{"line":59,"column":5},"keyword":"When ","text":"I run `cucumber -o /dev/null features/all_hook_order.feature`","id":"9"},{"location":{"line":60,"column":5},"keyword":"Then ","text":"the output should contain:","docString":{"location":{"line":61,"column":7},"content":"Event order: around_begin before background_step scenario_step after around_end","delimiter":"\"\"\""},"id":"10"}]}}]},"uri":"/Users/kevinjohnson/projects/ex_gherkin/test/support/testdata/full_features/hook_order.feature"}}
